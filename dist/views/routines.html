<ng-include src="'views/sidenav.html'" ng-controller="SidenavCtrl" ng-if="userType == 0"></ng-include>
<md-content class="main" ng-if="userType==0">
    <h2 class="main-header">Rutinas</h2>
    <md-card layout="row">
        <div flex="100">
            <md-card-content>
                <md-list flex ng-if="routines.length > 0">
                    <md-list-item class="md-3-line" ng-repeat="routine in routines track by $index" ng-click="routineDetails(routine,$index)">
                        <div class="md-list-item-text" layout="column">
                            <h3>{{routine.nombre}}</h3>
                        </div>
                    </md-list-item>
                </md-list>
                <p ng-if="routines.length < 1">No tienes rutinas registradas.</p>
            </md-card-content>
        </div>
    </md-card>
    <div layout="row" layout-align="end" style="margin-bottom: 20px">
        <div flex="20">
            <md-button class="md-raised md-primary" ng-click="createRoutine()">Nueva rutina
            </md-button>
        </div>
    </div>
</md-content>

<md-content ng-if="userType==1" style="background-color:white">
    <div layout="row">
        <div flex="100">
            <md-list flex ng-if="routines.length > 0">
                <md-list-item class="md-3-line" ng-repeat="routine in routines track by $index" ng-click="routineDetails(routine,$index)">
                    <div class="md-list-item-text" layout="column">
                        <h3>{{routine.nombre}}</h3>
                    </div>
                </md-list-item>
            </md-list>
            <p ng-if="routines.length < 1">El alumno no tiene rutinas registradas.</p>
        </div>
    </div>
</md-content>

<div style="visibility: hidden">
    <div class="md-dialog-container" id="myDialog">
        <md-dialog layout-padding style="padding:30px">
            <div layout="row">
                <div flex="40">
                    <h3>{{selectedRoutine.nombre}}</h3>
                </div>
                <div flex="80" layout="row" layout-align="end center">
                    <div flex="20">
                        <md-button class="md-raised md-primary" ng-click="modifyRoutine()">Editar
                        </md-button>
                    </div>
                </div>
            </div>
            <div layout="row" ng-repeat="muscle in routineExercises">
                <div flex="100">
                    <h4>{{muscle.muscle}}</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Ejercicio</th>
                                <th>Series</th>
                                <th>Repeticiones</th>
                                <th>Medio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="exercise in muscle.exercises">
                                <td>{{exercise.nombre}}</td>
                                <td>{{exercise.series}}</td>
                                <td>{{exercise.repeticiones}}</td>
                                <td>{{exercise.medio}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </md-dialog>
    </div>
</div>